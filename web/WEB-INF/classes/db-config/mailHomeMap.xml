<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Home">

  <!-- Use type aliases to avoid typing the full classname every time. -->
	<typeAlias alias="portlet" type="com.terracetech.tims.webmail.home.vo.MailHomePortletVO" />
	<typeAlias alias="layout" type="com.terracetech.tims.webmail.home.vo.MailHomeLayoutVO" />
	<typeAlias alias="menu" type="com.terracetech.tims.webmail.home.vo.MailMenuLayoutVO" />
	
	<resultMap id="portletResult" class="portlet" >
    	<result column="PORTLET_SEQ" property="portletSeq" jdbcType="INTEGER" />
    	<result column="PORTLET_NAME" property="portletName" jdbcType="VARCHAR" />
    	<result column="PORTLET_URL" property="portletUrl" jdbcType="VARCHAR" />
    	<result column="DESCRIPTION" property="description" jdbcType="VARCHAR" />
  	</resultMap>
  	
  	<resultMap id="layoutPortletResult" class="portlet" extends="portletResult">
    	<result column="PORTLET_LOCATION" property="location" jdbcType="VARCHAR" />
  	</resultMap>
	
	<resultMap id="layoutResult" class="layout">
	    <result column="LAYOUT_SEQ" jdbcType="INTEGER" property="layoutSeq" />
	    <result column="LAYOUT_NAME" jdbcType="VARCHAR" property="layoutName" />
	    <result column="LAYOUT_USE" jdbcType="CHAR" property="layoutUse" />
	    <result column="PORTLET_COUNT" jdbcType="INTEGER" property="portletCount" />
  	</resultMap>
  	
  	<resultMap id="menuResult" class="menu" >
  		<result column="menu_seq" property="menuSeq" jdbcType="INTEGER" />
  		<result column="menu_id" property="menuId" jdbcType="VARCHAR" />
		<result column="mail_domain_seq" property="mailDomainSeq" jdbcType="INTEGER" />
		<result column="menu_url" property="menuUrl" jdbcType="VARCHAR" />
		<result column="menu_name" property="menuName" jdbcType="VARCHAR" />
		<result column="menu_target" property="menuTarget" jdbcType="VARCHAR" />
		<result column="order_seq" property="orderSeq" jdbcType="INTEGER" />
		<result column="menu_apply" property="menuApply" jdbcType="VARCHAR" />
	</resultMap>
	
	<cacheModel id="menuCache" type="MEMORY" readOnly="false" serialize="true">
	  	<flushInterval seconds="10"/>
		<property name="reference-type" value="SOFT"/>
		<flushOnExecute statement="SystemConfig.allCacheDelete"/>
	  </cacheModel>
  	
</sqlMap>