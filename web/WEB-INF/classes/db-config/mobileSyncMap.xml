<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="mobile">

	<typeAlias alias="mobileSync" type="com.terracetech.tims.webmail.mobile.vo.MobileSyncVO" />
	<typeAlias alias="mobileSyncLog" type="com.terracetech.tims.webmail.mobile.vo.MobileSyncLogVO" />
	
   	<resultMap id="mobileSyncResult" class="mobileSync" >
		<result column="mail_user_seq" property="mailUserSeq"/>
		<result column="device_id" property="deviceId"/>
		<result column="sync_key" property="syncKey"/>
		<result column="ping_check" property="pingCheck"/>
		<result column="ping_update_time" property="pingUpdateTime"/>
		<result column="email_update_time" property="emailUpdateTime"/>
		<result column="contacts_insert_sync_time" property="contactsInsertSyncTime"/>
		<result column="contacts_update_sync_time" property="contactsUpdateSyncTime"/>
		<result column="contacts_delete_sync_time" property="contactsDeleteSyncTime"/>
		<result column="calendar_insert_sync_time" property="calendarInsertSyncTime"/>
		<result column="calendar_update_sync_time" property="calendarUpdateSyncTime"/>
		<result column="calendar_delete_sync_time" property="calendarDeleteSyncTime"/>
	</resultMap>
	
	<resultMap id="mobileSyncLogResult" class="mobileSyncLog" >
		<result column="log_seq" property="logSeq" />
		<result column="mail_user_seq" property="mailUserSeq" />
		<result column="event_type" property="eventType" />
		<result column="target" property="target" />
		<result column="target_value" property="targetValue" />
		<result column="update_time" property="updateTime" />
	</resultMap>
	
	<resultMap id="mobileKeyMap" class="java.util.HashMap">
		<result property="key"  column="unique_id"/>
   		<result property="value"  column="unique_id"/>
	</resultMap>
	
	<cacheModel id="hybridAuthCache" type="MEMORY" readOnly="false" serialize="true">
		<flushOnExecute statement="mobile.insertHybridAuth"/>
		<flushOnExecute statement="mobile.deleteHybridAuth"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="webAccessCache" type="MEMORY" readOnly="false" serialize="true">
		<flushInterval seconds="10"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
</sqlMap>