<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="SystemConfig">
	<typeAlias alias="mailConfig" type="com.terracetech.tims.webmail.common.vo.MailConfigVO" />	
	<typeAlias alias="banner" type="com.terracetech.tims.webmail.common.vo.BannerVO" />

	<resultMap class="java.util.HashMap" id="configMap">
		<result property="key"  column="config_name"/>
   		<result property="value"  column="config_value"/>
	</resultMap>
	
	<resultMap id="mailConfigResult" class="mailConfig">
		<result property="configName" column="config_name"/>
		<result property="configValue" column="config_value"/>
	</resultMap>
	
	<resultMap id="webAccessResult" class="mailConfig">
		<result property="configName" column="config_name"/>
		<result property="configValue" column="config_value"/>
	</resultMap>
	
	<resultMap id="bannerResult" class="banner">
		<result property="mailDomainSeq" column="mail_domain_seq"/>
		<result property="bannerHeader" column="banner_header"/>
		<result property="bannerTail" column="banner_tail"/>
		<result property="bannerApply" column="banner_apply"/>
	</resultMap>
	
	<cacheModel id="mapCache" type="MEMORY" readOnly="false" serialize="true">
		<flushInterval seconds="10"/>
		
		<flushOnExecute statement="SystemConfig.allCacheDelete"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="webAccessCache" type="MEMORY" readOnly="false" serialize="true">
		<flushInterval minutes="1"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="duplicateLoginCache" type="MEMORY" readOnly="false" >
		<flushInterval minutes="1"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
</sqlMap>