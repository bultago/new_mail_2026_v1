<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="MailUser">

	<typeAlias alias="userSystem"	type="com.terracetech.tims.webmail.mailuser.vo.MailUserSystemVO"/>
	<typeAlias alias="userAddress" 	type="com.terracetech.tims.webmail.mailuser.vo.MailUserAddressVO"/>
	<typeAlias alias="userDomain"	type="com.terracetech.tims.webmail.mailuser.vo.MailUserDomainVO"/>
	<typeAlias alias="userGroup" 	type="com.terracetech.tims.webmail.mailuser.vo.MailUserGroupVO"/>
	
	<typeAlias alias="userConfig"	type="com.terracetech.tims.webmail.setting.vo.UserConfigVO"/>
	<typeAlias alias="userInfo" 	type="com.terracetech.tims.webmail.mailuser.vo.MailUserInfoVO"/>
	<typeAlias alias="lastRcpt"		type="com.terracetech.tims.webmail.setting.vo.RcptVO"/>
	<typeAlias alias="mailUser"		type="com.terracetech.tims.webmail.mailuser.vo.MailUserVO"/>	
	<typeAlias alias="userTag"		type="com.terracetech.tims.webmail.mailuser.vo.MailUserTagVO"/>
	
	<typeAlias alias="address"		type="com.terracetech.tims.webmail.mail.ibean.MailAddressBean"/>
	
	<typeAlias alias="webfolderInfo" type="com.terracetech.tims.webmail.webfolder.vo.WebfolderQuotaVO"/>
	<typeAlias alias="bbsInfo" type="com.terracetech.tims.webmail.bbs.vo.BoardQuotaVO"/>

	<typeAlias alias="searchUser" type="com.terracetech.tims.webmail.mailuser.vo.SearchUserVO" />
	<typeAlias alias="searchVO" type="com.terracetech.tims.webmail.common.vo.SearchVO" />
	<typeAlias alias="folderAgingVO" type="com.terracetech.tims.webmail.mail.vo.FolderAgingVO" />
	
	<resultMap id="userListResult" class="searchUser">
		<result property="mailDomainSeq" column="mail_domain_seq" />
		<result property="mailDomain" column="mail_domain"/>
		<result property="mailUserSeq" column="mail_user_seq" />
		<result property="userName" column="user_name" />
		<result property="mailUid" column="mail_uid" />
	</resultMap>
	
	<resultMap id="searchUserResult" class="searchUser">
		<result property="userName" column="user_name" />
		<result property="mailUid" column="mail_uid" />
	</resultMap>
	
	<resultMap id="userSystemResult" class="userSystem">
		<result property="seqNum" column="mail_user_seq"/>
		<result property="uid" column="mail_uid"/>
		<result property="domain" column="mail_domain"/>
		<result property="domainSeqNum" column="mail_domain_seq"/>
		<result property="group" column="mail_group"/>	
		<result property="groupSeqNum" column="mail_group_seq"/>
		<result property="password" column="mail_password"/>
		<result property="host" column="mail_host"/>
		<result property="store" column="message_store"/>
		<result property="expireTime" column="account_expire_date"/>
		<result property="status" column="account_status"/>
		<result property="userType" column="user_type"/>
		<result property="mailServices" column="mail_services"/>
		<result property="addQuota" column="mail_add_quota"/>
		<result property="quotaOverlookRatio" column="quota_overlook_ratio"/>
		<result property="quotaWarningMode" column="quota_warning_mode"/>
		<result property="quotaWarningRatio" column="quota_warning_ratio"/>
		<result property="quotaViolationAction" column="quota_violation_action"/>
		<result property="maxSendSize" column="mail_max_send_size"/>
		<result property="inboxExpireDays" column="inbox_expire_days"/>
		<result property="sentExpireDays" column="sent_expire_days"/>
		<result property="trashExpireDays" column="trash_expire_days"/>
		<result property="spamExpireDays" column="spam_expire_days"/>
		<result property="userExpireDays" column="user_expire_days"/>
		<result property="deliveryNotiType" column="delivery_noti_type"/>
		<result property="deliveryNotiMode" column="delivery_noti_mode"/>
		<result property="forwardingMode" column="forwarding_mode"/>
		<result property="hiddenForwardingMode" column="hidden_forwarding_mode"/>
		<result property="autoReplyMode" column="auto_reply_mode"/>
		<result property="autoReplyInclude" column="auto_reply_include"/>
		<result property="autoReplyStartTime" column="auto_reply_start_time"/>
		<result property="autoReplyEndTime" column="auto_reply_end_time"/>
		<result property="autoReplyText" column="auto_reply_text"/>
		<result property="autoReplySubject" column="auto_reply_subject"/>
	</resultMap>
	
	<resultMap id="userAddressResult" class="userAddress">
		<result property="mobileNo" column="mobile_no"/>
		<result property="homeTel" column="home_tel"/>
		<result property="homeFax" column="home_fax"/>
		<result property="homePostalCode" column="home_postal_code"/>
		<result property="homeCountry" column="home_country"/>
		<result property="homeState" column="home_state"/>
		<result property="homeCity" column="home_city"/>
		<result property="homeStreet" column="home_street"/>
		<result property="homeBasicAddress" column="home_basic_address"/>
		<result property="homepage" column="home_page"/>
		<result property="companyName" column="company_name"/>
		<result property="departmentName" column="department_name"/>
		<result property="officeTel" column="office_tel"/>
		<result property="officeFax" column="office_fax"/>
		<result property="officePostalCode" column="office_postal_code"/>
		<result property="officeCountry" column="office_country"/>
		<result property="officeState" column="office_state"/>
		<result property="officeCity" column="office_city"/>
		<result property="officeStreet" column="office_street"/>
		<result property="officeBasicAddress" column="office_basic_address"/>
		<result property="officeExtAddress" column="office_ext_address"/>
		<result property="description" column="description"/>	
	</resultMap>
	
	<resultMap id="userDomainResult" class="userDomain">
		<result property="mailDomain" column="mail_domain"/>
		<result property="mailDomainName" column="mail_domain_name"/>
		<result property="serviceStartTime" column="service_start_time"/>
		<result property="serviceEndTime" column="service_end_time"/>
		<result property="domainStatus" column="domain_status"/>
		<result property="maxUserCount" column="max_user_count"/>
		<result property="currentUserCount" column="current_user_count"/>
		<result property="passwordMethod" column="password_method"/>
		<result property="mailServices" column="mail_services"/>
		<result property="defaultPspam" column="default_pspam"/>
		<result property="filterApply" column="filter_apply"/>
	</resultMap>
	
	<resultMap id="userGroupResult" class="userGroup">
		<result property="mailGroup" column="mail_group"/>
		<result property="mailGroupName" column="mail_group_name"/>
		<result property="quota" column="mail_quota"/>
		<result property="webfolderQuota" column="web_folder_quota"/>
		<result property="maxForwarding" column="max_forwarding"/>
		<result property="quotaOverlookRatio" column="quota_overlook_ratio"/>
		<result property="quotaWarningMode" column="quota_warning_mode"/>
		<result property="quotaWarningRatio" column="quota_warning_ratio"/>
		<result property="quotaViolationAction" column="quota_violation_action"/>
		<result property="mailServices" column="mail_services"/>
		<result property="maxSendSize" column="mail_max_send_size"/>
		<result property="inboxExpireDays" column="inbox_expire_days"/>
		<result property="sentExpireDays" column="sent_expire_days"/>
		<result property="trashExpireDays" column="trash_expire_days"/>
		<result property="spamExpireDays" column="spam_expire_days"/>
		<result property="userExpireDays" column="user_expire_days"/>
		<result property="description" column="description"/>		
	</resultMap>
	
	<resultMap id="userConfigResult" class="userConfig">
		<result property="pageLineCnt"	column="page_line_cnt"/>
		<result property="senderName"	column="sender_name"/>
		<result property="saveSendBox"	column="save_send_box"/>
		<result property="receiveNoti"	column="receive_noti"/>
		<result property="vcardAttach"	column="vcard_attach"/>
		<result property="userLocale"	column="user_locale"/>
		<result property="writeMode"	column="write_mode"/>
		<result property="charSet"	column="char_set"/>
		<result property="hiddenImg"	column="hidden_img"/>
		<result property="signAttach"	column="sign_attach"/>
		<result property="afterLogin"	column="after_login"/>
		<result property="hiddenTag"	column="hidden_tag"/>
		<result property="notiInterval"	column="noti_interval"/>
		<result property="userSkin"	column="user_skin"/>
		<result property="forwardingMode"	column="forwarding_mode"/>
		<result property="senderEmail"	column="sender_email"/>
	</resultMap>
	
	<resultMap id="groupConfigResult"	class="java.util.HashMap">
		<result property="key"	column="config_name"/>
		<result property="value"	column="config_value"/>
	</resultMap>
	
	<resultMap id="lastRcptResult"  class="lastRcpt">
		<result property="userSeq"  column="mail_user_seq"/>
		<result property="lastrcptEmail"  column="lastrcpt_email"/>
		<result property="lastrcptPersonnel"  column="lastrcpt_personnel"/>
		<result property="rcptSeq"  column="rcpt_seq"/>
	</resultMap>
   
	<resultMap id="userInfoResult" class="userInfo">
		<result property="mailUserSeq" column="mail_user_seq"/>
		<result property="ssn" column="ssn"/>
		<result property="empno" column="empno"/>
		<result property="userName" column="user_name"/>
		<result property="firstName" column="first_name"/>
		<result property="middleName" column="middle_name"/>
		<result property="lastName" column="last_name"/>
		<result property="userLanguage" column="user_language"/>
		<result property="passChgTime" column="pass_chg_time"/>
		<result property="passQuestionCode" column="pass_question_code"/>
		<result property="passQuestion" column="pass_question"/>
		<result property="passAnswer" column="pass_answer"/>
		<result property="mobileNo" column="mobile_no"/>
		<result property="homeTel" column="home_tel"/>
		<result property="homeFax" column="home_fax"/>
		<result property="homePostalCode" column="home_postal_code"/>
		<result property="homeCountry" column="home_country"/>
		<result property="homeState" column="home_state"/>
		<result property="homeCity" column="home_city"/>
		<result property="homeStreet" column="home_street"/>
		<result property="homeBasicAddress" column="home_basic_address"/>
		<result property="homeExtAddress" column="home_ext_address"/>
		<result property="privateHomepage" column="private_homepage"/>
		<result property="companyName" column="company_name"/>
		<result property="departmentName" column="department_name"/>
		<result property="officeTel" column="office_tel"/>
		<result property="officeFax" column="office_fax"/>
		<result property="officePostalCode" column="office_postal_code"/>
		<result property="officeCountry" column="office_country"/>
		<result property="officeState" column="office_state"/>
		<result property="officeCity" column="office_city"/>
		<result property="officeStreet" column="office_street"/>
		<result property="officeBasicAddress" column="office_basic_address"/>
		<result property="officeExtAddress" column="office_ext_address"/>
		<result property="description" column="description"/>
		<result property="massSend" column="mass_send"/>
		<result property="registerStatus"  column="register_status"/>
	</resultMap>
	
	<resultMap id="mailUserResult" class="mailUser">
		<result property="mailUserSeq" column="mail_user_seq"/>
		<result property="mailUid" column="mail_uid"/>
		<result property="mailDomainSeq" column="mail_domain_seq"/>
		<result property="mailGroupSeq" column="mail_group_seq"/>
		<result property="mailPassword" column="mail_password"/>
		<result property="mailHost" column="mail_host"/>
		<result property="messageStore" column="message_store"/>
		<result property="accountExpireDate" column="account_expire_date"/>
		<result property="accountStatus" column="account_status"/>
		<result property="userType" column="user_type"/>
		<result property="mailServices" column="mail_services"/>
		<result property="mailAddQuota" column="mail_add_quota"/>
		<result property="quotaOverlookRatio" column="quota_overlook_ratio"/>
		<result property="quotaWarningMode" column="quota_warning_mode"/>
		<result property="quotaWarningRatio" column="quota_warning_ratio"/>
		<result property="quotaViolationAction" column="quota_violation_action"/>
		<result property="mailMaxSendSize" column="mail_max_send_size"/>
		<result property="inboxExpireDays" column="inbox_expire_days"/>
		<result property="sentExpireDays" column="sent_expire_days"/>
		<result property="trashExpireDays" column="trash_expire_days"/>
		<result property="spamExpireDays" column="spam_expire_days"/>
		<result property="userExpireDays" column="user_expire_days"/>
		<result property="deliveryNotiType" column="delivery_noti_type"/>
		<result property="deliveryNotiMode" column="delivery_noti_mode"/>
		<result property="forwardingMode" column="forwarding_mode"/>
		<result property="hiddenForwardingMode" column="hidden_forwarding_mode"/>
		<result property="autoReplyMode" column="auto_reply_mode"/>
		<result property="autoReplyInclude" column="auto_reply_include"/>
		<result property="autoReplyStartTime" column="auto_reply_start_time"/>
		<result property="autoReplyEndTime" column="auto_reply_end_time"/>
		<result property="autoReplyText" column="auto_reply_text"/>
		<result property="autoReplySubject" column="auto_reply_subject"/>
	</resultMap>

	<resultMap id="webfolderInfoResult" class="webfolderInfo">
		<result property="mailDomainSeq" column="mail_domain_seq"/>
		<result property="mailUserSeq" column="mail_user_seq"/>
		<result property="mailUid" column="mail_uid"/>
		<result property="mailDomain" column="mail_domain"/>
		<result property="mailHost" column="mail_host"/>
		<result property="messageStore" column="message_store"/>
		<result property="webfolderQuota" column="web_folder_quota"/>
		<result property="webfolderAddQuota" column="web_folder_add_quota"/>	
	</resultMap>
	
	<resultMap id="bbsInfoResult" class="bbsInfo">
		<result property="mailDomainSeq" column="mail_domain_seq"/>
		<result property="mailUserSeq" column="mail_user_seq"/>
		<result property="mailUid" column="mail_uid"/>
		<result property="mailDomain" column="mail_domain"/>
		<result property="mailHost" column="mail_host"/>
		<result property="messageStore" column="message_store"/>
		<result property="mailQuota" column="mail_quota"/>
		<result property="mailAddQuota" column="mail_add_quota"/>
		<result property="quotaWarningMode" column="quota_warning_mode"/>
		<result property="quotaWarningRatio" column="quota_warning_ratio"/>
		<result property="quotaOverlookRatio" column="quota_overlook_ratio"/>
	</resultMap>
	
	<resultMap id="agingMapResult"  class="folderAgingVO">
   		<result property="folderName"  column="folder_name"/>
   		<result property="aging"  column="aging_day"/>
   	</resultMap>
   	
   	<cacheModel id="lastRcptCache" type="MEMORY" readOnly="false" serialize="true">
	  	<flushInterval seconds="10"/>
		<flushOnExecute statement="MailUser.insertLastRcpt"/>
		<flushOnExecute statement="MailUser.deleteLastRcpt"/>
		<flushOnExecute statement="MailUser.deleteLastRcptSeqs"/>
		
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="userCache" type="MEMORY" readOnly="false" serialize="true">
	  	<flushInterval seconds="10"/>
		<flushOnExecute statement="MailUser.modifyUserInfo"/>
		
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="privateAddressCache" type="MEMORY" readOnly="true" serialize="false">
	  	<flushInterval seconds="10"/>
		<flushOnExecute statement="Addrbook.insertPrivateMember"/>
		<flushOnExecute statement="Addrbook.updatePrivateMember"/>
		<flushOnExecute statement="Addrbook.deletePrivateMember"/>
		
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="sharedAddressCache" type="MEMORY" readOnly="true" serialize="false">
	  	<flushInterval seconds="10"/>
		<flushOnExecute statement="Addrbook.insertSharedMember"/>
		<flushOnExecute statement="Addrbook.updateSharedMember"/>
		<flushOnExecute statement="Addrbook.deleteSharedMember"/>
		
		<flushOnExecute statement="SystemConfig.allCacheDelete"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	<cacheModel id="orgCache" type="MEMORY" readOnly="true" serialize="false">
	  	<flushInterval seconds="10"/>
	  	<flushOnExecute statement="SystemConfig.allCacheDelete"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
	
	
	<cacheModel id="searchRcptOption" type="MEMORY" readOnly="true" serialize="false">
	  	<flushInterval seconds="10"/>
	  	<flushOnExecute statement="SystemConfig.allCacheDelete"/>
		<property name="reference-type" value="SOFT"/>
	</cacheModel>
</sqlMap>