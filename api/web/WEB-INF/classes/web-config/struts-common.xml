<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<package name="basic" namespace="/" extends="tims-default">
    	<action name="welcome">
            <result type="redirect">/</result>
        </action>
        
        <action name="downloadSign" class="emptyMappingAction"/>
        <action name="downloadAttach" class="emptyMappingAction"/>
        <action name="receiveMDNResponse" class="emptyMappingAction"/>
        <action name="listMessages" class="emptyMappingAction"/>
        <action name="downloadBigAttach" class="emptyMappingAction"/>

		<action name="logout" class="logoutAction">
			<result name="success">/common/logout.jsp</result>
		</action>

	</package>
	
    <package name="common"  namespace="/common"  extends="tims-default">

        <action 	name="welcome" class="welcomeAction" method="load">        			
        	<result name="domain" type="redirect">/dynamic/mail/mailCommon.do?vmode=domain</result>
            <result name="intro" type="redirect">/dynamic/mail/mailCommon.do?vmode=intro</result>
            <result name="home" type="redirect">/dynamic/mail/mailCommon.do?vmode=mhome</result>
            <result name="mail" type="redirect">/dynamic/mail/mailCommon.do</result>
            <result name="manage" type="redirect">/dynamic/mail/viewFolderManage.do</result>            
            <result name="login">/common/loginWork.jsp</result>
            <result name="redirect">/common/redirect.jsp</result>
            <result name="multiLogin">/common/multiLogin.jsp</result>
            <result name="mobileLogin">/mobile/basic/common/loginWork.jsp</result>
            <result name="mobileIntro" type="redirect">/mobile/common/home.do</result>
            <result name="forward">${url}</result>
            
            <result name="smail" type="redirect">/mail/mailCommon.do</result>
            <result name="sdomain" type="redirect">/mail/mailCommon.do?vmode=domain</result>
            <result name="sintro" type="redirect">/mail/mailCommon.do?vmode=intro</result>
            <result name="shome" type="redirect">/mail/mailCommon.do?vmode=mhome</result>
            <result name="smanage" type="redirect">/dynamic/mail/viewFolderManage.do</result>
        </action>
        
        <action name="login" class="loginAction">			
			<result name="success" type="redirectAction">
	            <param name="actionName">welcome</param>
	            <param name="namespace">/common</param>
	        </result>
	        <result name="change">/common/pwChange.jsp</result>
	        <result name="dormant">/common/dormantAccount.jsp</result>
		</action>
		
		<action name="loginPki" class="loginAction">			
			<result name="success" type="redirectAction">
	            <param name="actionName">welcome</param>
	            <param name="namespace">/common</param>
	        </result>
	        <result name="change">/common/pwChange.jsp</result>
	        <result name="dormant">/common/dormantAccount.jsp</result>
		</action>
		
		<action name="logout" class="logoutAction">
			<result name="success">/common/logout.jsp</result>
		</action>
		
		<action name="sso" class="ssoAction">
			<result name="success" type="redirectAction">
	            <param name="actionName">welcome</param>
	            <param name="namespace">/common</param>
	        </result>
	        <result name="mail">/common/redirect.jsp</result>
	        <result name="forward">/common/redirect.jsp</result>
	        <result name="change">/common/pwChange.jsp</result>
	        <result name="dormant">/common/dormantAccount.jsp</result>
			<result name="test">/test.jsp</result>
		</action>
		<action name="testSso" class="testSsoAction">
		</action>
		
		<action name="searchMailUserJson" 
				class="searchMailUserAction" method="getJsonUserList"/>
				
		<action name="passwordCheck" class="passwordCheckAction" />
		
		<action name="checkSessionTimeout" class="checkSessionTimeoutAction" />
		
		<action name="sessionHealthCheck" class="checkSessionTimeoutAction" method="health"/>
		
		<action name="empnoLogin" class="empnoLoginAction">			
			<result name="success" type="redirectAction">
	            <param name="actionName">welcome</param>
	            <param name="namespace">/common</param>
	        </result>	      
		</action>
		
		<action name="listDocTemplate" class="docTemplateAction" method="excuteLoadTemplateList"/>
		<action name="loadDocTemplate" class="docTemplateAction" method="excuteLoadTemplate"/>
		
		<action name="changeUserAccount" class="changeUserAccountAction">
			<result name="success" type="redirect">/common/welcome.do</result>
			<result name="error">/common/alertRedirect.jsp?url=/common/welcome.do</result>
    	</action>
    </package>
    <package name="alim"  namespace="/alim"  extends="tims-default">
    	<action name="sysinfo" class="alimInfoAction" method="executeSystemInfo"/>
    	<action name="auth" class="alimInfoAction" method="executeAuth"/>
    	<action name="mailinfo" class="alimInfoAction" method="executeMailInfo"/>
    	<action name="gomail" class="alimInfoAction" method="executeGoMail">
    		 <result>/common/redirect.jsp</result>
    	</action>
    </package>
    
    <package name="file"  namespace="/file"  extends="tims-default">    	
    	<action name="viewFile"
    				class="com.terracetech.tims.webmail.common.action.ViewFileAction" >			
    	</action>
    	
    	<action name="viewImage"
    				class="viewImageAction" >			
    	</action>
    	
    	<action name="uploadAttachImage"
    				class="uploadAttachImageAction" >			
    	</action>
    	 
    	<action name="uploadSmartAttachImageAction"
    				class="uploadSmartAttachImageAction" >			
    	</action>   
    	
    	<action name="uploadCkAttachImageAction"
    				class="uploadCkAttachImageAction" >			
    	</action>
    		
    	<action 	name="uploadAttachFile"
    				class="uploadAttachFileAction">
    		<result name="simpleResult">/upload/fileUpload.jsp</result>    		
    	</action>
    	
    	<action 	name="updateBigAttachInfo"
    				class="uploadAttachFileAction"
    				method="updateBigAttachInfo">    		    		
    	</action>
    	
    	<action 	name="deleteAttachFile"
    				class="deleteAttachFileAction">
    		<result name="simpleResult">/upload/deleteAttach.jsp</result>    		
    	</action>    	
    	
    </package>

</struts>
